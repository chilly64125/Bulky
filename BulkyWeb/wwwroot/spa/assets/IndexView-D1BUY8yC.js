import{c as l}from"./crudService-BRkoTJpv.js";import{a as e,r as a,o as n,k as t,l as s,t as r,F as u,s as d,e as o,v as i}from"./vendor-vue-IgQ0LSVQ.js";import"./index-iiR0jBps.js";const c={class:"container-fluid py-4"},g={key:0,class:"alert alert-info"},v={key:1,class:"alert alert-danger"},b={key:2,class:"alert alert-warning"},p={key:3,class:"table-responsive"},y={class:"table table-hover"},f=["onClick"],h=e({__name:"IndexView",setup(e){const h=a(!1),m=a(null),k=a([]),w=l("/order");function I(l){if(!l)return"-";return new Date(l).toLocaleDateString("zh-TW")}function D(l){return{pending:"bg-warning",paid:"bg-success",failed:"bg-danger"}[l]||"bg-secondary"}return n(()=>async function(){h.value=!0,m.value=null;try{const{data:l}=await w.list();k.value=l.data||[]}catch(l){m.value=(null==l?void 0:l.message)||"加載失敗"}finally{h.value=!1}}()),(l,e)=>(o(),t("div",c,[e[1]||(e[1]=s("h2",null,"訂單管理",-1)),h.value?(o(),t("div",g,"加載中...")):m.value?(o(),t("div",v,r(m.value),1)):0===k.value.length?(o(),t("div",b,"無訂單")):(o(),t("div",p,[s("table",y,[e[0]||(e[0]=s("thead",null,[s("tr",null,[s("th",null,"訂單ID"),s("th",null,"用戶ID"),s("th",null,"訂單日期"),s("th",null,"總價"),s("th",null,"狀態"),s("th",null,"付款狀態"),s("th",null,"操作")])],-1)),s("tbody",null,[(o(!0),t(u,null,d(k.value,l=>{return o(),t("tr",{key:l.orderId},[s("td",null,r(l.orderId),1),s("td",null,r(l.userId),1),s("td",null,r(I(l.orderDate)),1),s("td",null,"$"+r(l.totalPrice),1),s("td",null,[s("span",{class:i(["badge",(e=l.status,{pending:"bg-warning",processing:"bg-info",completed:"bg-success",cancelled:"bg-danger"}[e]||"bg-secondary")])},r(l.status),3)]),s("td",null,[s("span",{class:i(["badge",D(l.paymentStatus)])},r(l.paymentStatus),3)]),s("td",null,[s("button",{class:"btn btn-info btn-sm",onClick:e=>{return a=l.orderId,void console.log("Viewing order:",a);var a}},"查看",8,f)])]);var e}),128))])])]))]))}});export{h as default};
